{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatColumnDef, MatTable, MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nfunction TableComponent_ng_container_4_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const metadata_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", metadata_r4.title, \" \");\n  }\n}\nfunction TableComponent_ng_container_4_td_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function TableComponent_ng_container_4_td_2_ng_container_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const row_r8 = i0.ɵɵnextContext().$implicit;\n      const metadata_r4 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(row_r8[metadata_r4.field] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const row_r8 = i0.ɵɵnextContext().$implicit;\n    const metadata_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", row_r8[metadata_r4.field])(\"type\", metadata_r4.type);\n  }\n}\nfunction TableComponent_ng_container_4_td_2_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const row_r8 = i0.ɵɵnextContext().$implicit;\n    const metadata_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", row_r8[metadata_r4.field], \" \");\n  }\n}\nfunction TableComponent_ng_container_4_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 12);\n    i0.ɵɵtemplate(1, TableComponent_ng_container_4_td_2_ng_container_1_Template, 2, 2, \"ng-container\", 13);\n    i0.ɵɵtemplate(2, TableComponent_ng_container_4_td_2_ng_template_2_Template, 1, 1, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r8 = ctx.$implicit;\n    const _r10 = i0.ɵɵreference(3);\n    const metadata_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r8.IsEditing && metadata_r4.editable)(\"ngIfElse\", _r10);\n  }\n}\nfunction TableComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 8);\n    i0.ɵɵtemplate(1, TableComponent_ng_container_4_th_1_Template, 2, 1, \"th\", 9);\n    i0.ɵɵtemplate(2, TableComponent_ng_container_4_td_2_Template, 4, 2, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const metadata_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"matColumnDef\", metadata_r4.field);\n  }\n}\nfunction TableComponent_tr_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 16);\n  }\n}\nfunction TableComponent_tr_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 17);\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 25, 100];\n};\n//@ts-ignore\nexport let TableComponent = /*#__PURE__*/(() => {\n  class TableComponent {\n    constructor() {\n      this.metadataTable = [];\n      this.columnsToView = [];\n    }\n    ngOnChanges() {\n      this.columnsToView = this.metadataTable.map(el => el.field);\n      this.loadData();\n    }\n    ngAfterContentInit() {\n      this.loadData();\n    }\n    loadData() {\n      if (!this.columnsDef) return false;\n      this.dataSource = new MatTableDataSource(this.dataTable);\n      this.columnsDef.forEach(columnsDef => this.table.addColumnDef(columnsDef));\n      if (this.columnsDef.length) {\n        this.columnsToView.push('actions');\n      }\n      if (this.paginator) {\n        this.dataSource.paginator = this.paginator;\n        this.paginator.firstPage();\n      }\n    }\n    ngOnInit() {}\n  }\n  TableComponent.ɵfac = function TableComponent_Factory(t) {\n    return new (t || TableComponent)();\n  };\n  TableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TableComponent,\n    selectors: [[\"app-table\"]],\n    contentQueries: function TableComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, MatColumnDef, 4);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.columnsDef = _t);\n      }\n    },\n    viewQuery: function TableComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatTable, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n      }\n    },\n    inputs: {\n      dataTable: \"dataTable\",\n      metadataTable: \"metadataTable\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 11,\n    vars: 7,\n    consts: [[\"fxLayout\", \"column\"], [\"matTableExporter\", \"\", \"mat-table\", \"\", 3, \"dataSource\"], [\"exporter\", \"matTableExporter\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"mat-header-row\", \"\", \"class\", \"cabecera\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", \"class\", \"highline\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"pageSizeOptions\", \"length\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 2, \"width\", \"10%\", 3, \"click\"], [3, \"matColumnDef\"], [\"mat-sort-header\", \"name\", \"mat-header-cell\", \"\", \"class\", \"centro\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"mat-sort-header\", \"name\", \"mat-header-cell\", \"\", 1, \"centro\"], [\"mat-cell\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"showName\", \"\"], [3, \"ngModel\", \"type\", \"ngModelChange\"], [\"mat-header-row\", \"\", 1, \"cabecera\"], [\"mat-row\", \"\", 1, \"highline\"]],\n    template: function TableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r22 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1, 2);\n        i0.ɵɵelementContainer(3);\n        i0.ɵɵtemplate(4, TableComponent_ng_container_4_Template, 3, 1, \"ng-container\", 3);\n        i0.ɵɵtemplate(5, TableComponent_tr_5_Template, 1, 0, \"tr\", 4);\n        i0.ɵɵtemplate(6, TableComponent_tr_6_Template, 1, 0, \"tr\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(7, \"mat-paginator\", 6);\n        i0.ɵɵelementStart(8, \"div\")(9, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TableComponent_Template_button_click_9_listener() {\n          i0.ɵɵrestoreView(_r22);\n          const _r0 = i0.ɵɵreference(2);\n          return i0.ɵɵresetView(_r0.exportTable(\"xlsx\", {\n            fileName: \"Informe\",\n            sheet: \"Datos\",\n            Props: {\n              Author: \"Filtros lys\"\n            }\n          }));\n        });\n        i0.ɵɵtext(10, \"Excel\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.metadataTable);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnsToView);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnsToView);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(6, _c0))(\"length\", ctx.dataTable == null ? null : ctx.dataTable.length);\n      }\n    },\n    styles: [\".cabecera[_ngcontent-%COMP%]{font-size:50px;background-color:var(--color-primary)}.highline[_ngcontent-%COMP%]{text-align:center}.highline[_ngcontent-%COMP%]:hover{background-color:gray}.centro[_ngcontent-%COMP%]{font-weight:700;font-size:18px;text-align:center}td[_ngcontent-%COMP%]{background-color:var(--color-filas);color:var(--color-texto)}table[_ngcontent-%COMP%]{width:99%;margin:0 auto}\"]\n  });\n  return TableComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}