{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { DialogoConfirmacionComponent } from '../../../../shared/components/dialogoconfirmacion/dialogoconfirmacion.component';\nimport { BuscarClienteComponent } from '../../components/buscar-cliente/buscar-cliente.component';\nimport { BuscarProductoComponent } from '../../components/buscar-producto/buscar-producto.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../ListadoVentas/domain/listadoVentas.respository\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"../../../../services/util.service\";\nimport * as i4 from \"../../../../RegVentas/domain/cliente.repository\";\nimport * as i5 from \"../../../../services/storage.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"../../../../Tienda/domain/tienda.repository\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/card\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/input\";\nimport * as i12 from \"@angular/material/button\";\nimport * as i13 from \"@angular/material/icon\";\nimport * as i14 from \"@angular/forms\";\nimport * as i15 from \"@angular/material/table\";\nimport * as i16 from \"../../../../shared/components/table/table.component\";\nimport * as i17 from \"../../../../shared/directives/error-control.directive\";\nimport * as i18 from \"@angular/material/select\";\nimport * as i19 from \"@angular/material/core\";\nfunction RegVentasComponent_ng_container_7_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 61);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tienda_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tienda_r17.codigo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(tienda_r17.nombre);\n  }\n}\nfunction RegVentasComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 58)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Tienda\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 59);\n    i0.ɵɵtemplate(5, RegVentasComponent_ng_container_7_mat_option_5_Template, 2, 2, \"mat-option\", 60);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.listaTienda);\n  }\n}\nfunction RegVentasComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 8)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Tienda\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.nombreTienda);\n  }\n}\nfunction RegVentasComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 62)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Tipo Documento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 63)(5, \"mat-option\", 64);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_ng_container_10_Template_mat_option_click_5_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.listarParametros(\"FA\"));\n    });\n    i0.ɵɵtext(6, \"FACTURA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-option\", 65);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_ng_container_10_Template_mat_option_click_7_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.listarParametros(\"BO\"));\n    });\n    i0.ɵɵtext(8, \"BOLETA\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction RegVentasComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 8)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Tipo Documento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r5.tipoParametro);\n  }\n}\nfunction RegVentasComponent_button_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_button_24_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.limpiar());\n    });\n    i0.ɵɵtext(1, \"Limpiar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegVentasComponent_button_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_button_25_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.crearVenta());\n    });\n    i0.ɵɵtext(1, \"Terminar Venta\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegVentasComponent_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_button_26_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.modificaVenta());\n    });\n    i0.ɵɵtext(1, \"Actualizar Venta\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegVentasComponent_ng_container_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 67)(2, \"button\", 68)(3, \"mat-icon\", 69);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_ng_container_50_Template_mat_icon_click_3_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.openModal(ctx_r27.buscarCliente));\n    });\n    i0.ɵɵtext(4, \"search\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"button\", 68)(6, \"mat-icon\", 70);\n    i0.ɵɵtext(7, \"face\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction RegVentasComponent_button_91_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_button_91_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.addData());\n    });\n    i0.ɵɵtext(1, \"Agregar\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r10.groupProducto.invalid);\n  }\n}\nfunction RegVentasComponent_button_92_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_button_92_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.addData());\n    });\n    i0.ɵɵtext(1, \"Actualiza\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r11.groupProducto.invalid);\n  }\n}\nfunction RegVentasComponent_button_93_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_button_93_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.salir());\n    });\n    i0.ɵɵtext(1, \"Salir\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r12.groupProducto.invalid);\n  }\n}\nfunction RegVentasComponent_button_94_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 72);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_button_94_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.openModal(ctx_r35.buscarProducto));\n    });\n    i0.ɵɵtext(1, \"Buscar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegVentasComponent_th_98_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 73);\n  }\n}\nfunction RegVentasComponent_td_99_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 74)(1, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_td_99_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const row_r37 = restoredCtx.$implicit;\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.editaProducto(row_r37));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function RegVentasComponent_td_99_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const row_r37 = restoredCtx.$implicit;\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.confirmAction(row_r37));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n//@ts-ignore\nexport let RegVentasComponent = /*#__PURE__*/(() => {\n  class RegVentasComponent {\n    initializeForm() {\n      this.groupProducto = new FormGroup({\n        descripcion: new FormControl(null, null),\n        codigo: new FormControl(this.codigoProducto, Validators.required),\n        cantidad: new FormControl(1, Validators.required),\n        descuento: new FormControl(0, Validators.required),\n        precioReal: new FormControl(0, null)\n      });\n      this.groupVenta = new FormGroup({\n        documento: new FormControl(null, null),\n        tienda: new FormControl(null, null)\n      });\n      this.groupCliente = new FormGroup({\n        codigo: new FormControl(this.codigoCliente, null),\n        nombre: new FormControl(null, null),\n        tDocumento: new FormControl(null, null),\n        telefono: new FormControl(null, null),\n        direccion: new FormControl(null, null),\n        tipoDocumento: new FormControl(null, null),\n        nroDocumento: new FormControl(null, null)\n      });\n    }\n    constructor(listadoVentasService, matDialog, util, productoService, clienteService, storage, route, tiendaService, dialogo) {\n      this.listadoVentasService = listadoVentasService;\n      this.matDialog = matDialog;\n      this.util = util;\n      this.productoService = productoService;\n      this.clienteService = clienteService;\n      this.storage = storage;\n      this.route = route;\n      this.tiendaService = tiendaService;\n      this.dialogo = dialogo;\n      this.codigoProducto = 0;\n      //CONDICION\n      this.condicion = true;\n      this.numero = 0;\n      this.productoEdita = true;\n      //MODAL\n      this.buscarProducto = BuscarProductoComponent;\n      this.buscarCliente = BuscarClienteComponent;\n      this.numDoc = 0;\n      this.titulo = 'REGISTRO DE VENTA';\n      this.precioReal = 0;\n      this.fechaActual = new Date();\n      this.fechaString = this.fechaActual.toISOString().slice(0, 19).replace('T', ' ');\n      this.precioSugerido = 0;\n      this.precioSugeridoE = 0;\n      this.tablaProductos = [];\n      this.clientes = [];\n      this.productos = [];\n      this.listaTienda = [];\n      this.listaParametros = [];\n      this.listaProductoItemGeneral = [];\n      this.tablaMuestra = [];\n      this.metadataTable = [{\n        field: 'codigoProducto',\n        title: 'Codigo'\n      }, {\n        field: 'descripcion',\n        title: 'Descripción'\n      }, {\n        field: 'cantidad',\n        title: 'Cantidad'\n      }, {\n        field: 'precioUnitario',\n        title: 'Precio Unitario'\n      }, {\n        field: 'descuento',\n        title: 'Descuento'\n      }, {\n        field: 'subTotal',\n        title: 'Sub Total'\n      }];\n      //Varoles Finales\n      this.subTotal = 0;\n      this.descuentoTotal = 0;\n      this.igv = 0;\n      this.total = 0;\n    }\n    ngOnInit() {\n      this.tablaMuestra = this.listaProductoItemGeneral.map(item => ({\n        ...item\n      }));\n      this.initializeForm();\n      //RECIBE VALOR\n      this.route.params.subscribe(params => {\n        if (params['CodigoComprobante'] != null) {\n          if (this.numero === 0) {\n            this.numero += 1;\n            this.muestraComprobante(params['codigoComprobante']);\n          }\n          this.codigoComprobante = params['codigoComprobante'];\n          this.numDoc = params['nroDocumento'];\n          this.tipoParametro = params['codigoTipoDocumento'];\n          this.listar(params['codigoTienda']);\n          this.titulo = 'MODIFICA VENTA';\n          this.condicion = false;\n        } else {\n          this.listar('%');\n        }\n      });\n      //this.listarProducto();\n      this.tablaProductos = [];\n      this.subTotal = 0;\n      this.descuentoTotal = 0;\n      this.igv = 0;\n      this.total = 0;\n      this.route.queryParams.subscribe(params => {\n        if (params['nombres'] != null) {\n          this.codigoCliente = params['codigoCliente'];\n          this.listarCliente();\n        }\n      });\n      this.route.queryParams.subscribe(producto => {\n        if (producto['codigoProducto'] != null) {\n          this.codigoProducto = producto['codigoProducto'];\n          this.listarProducto(this.codigoProducto);\n        }\n      });\n    }\n    //LISTA DE TIENDA\n    listar(value) {\n      const requestTienda = {};\n      requestTienda.Descripcion = value;\n      requestTienda.Estado = 'A';\n      this.tiendaService.listar(requestTienda).subscribe(response => {\n        this.nombreTienda = String(response.datos.result[0].codigoTienda);\n        const tiendas = response.datos.result.map(tienda => {\n          return {\n            nombre: tienda.descripcion,\n            codigo: tienda.codigoTienda\n          };\n        });\n        this.listaTienda = [...this.listaTienda, ...tiendas];\n      });\n    }\n    //ABRE MODAL\n    openModal(valor) {\n      const options = {\n        disableClose: true,\n        panelClass: 'buscaProducto'\n      };\n      const reference = this.util.openModal(valor, options);\n      reference.subscribe(response => {\n        if (response) {}\n      });\n    }\n    //RECUPER LOS DATOS DEL PRODUCTO\n    listarProducto(value) {\n      if (this.groupProducto.valid) {\n        //Esto valida que todos los campos requeridos sean validos\n        const valuesProducto = this.groupProducto.value;\n        const requestProducto = {}; //  this.group.value;\n        requestProducto.CodigoEmpresa = this.storage.get(\"codcompania\").toString();\n        requestProducto.CodigoProducto = valuesProducto['codigo'];\n        console.log(valuesProducto['codigo']);\n        console.log(requestProducto.CodigoProducto);\n        requestProducto.Descripcion = '%', requestProducto.Color = '%', requestProducto.Talla = '%', requestProducto.Tipo_Prenda = 0, requestProducto.Genero = '%', requestProducto.Estado = 'A';\n        if (requestProducto.CodigoProducto === '' || requestProducto.CodigoProducto === null || requestProducto.Descripcion == '%') {\n          requestProducto.Descripcion = '';\n          this.descProducto = '';\n          this.precioReal = 0;\n        }\n        if (requestProducto.CodigoProducto != '0') {\n          this.productoService.listarfiltro(requestProducto).subscribe(response => {\n            this.productoResponse = response;\n            this.productos = this.productoResponse.datos.result;\n            this.groupProducto.controls['descripcion'].setValue(this.productos[0].descripcion);\n            this.precioReal = this.productos[0].precioUnitario;\n            this.groupProducto.controls['codigo'].setValue(this.productos[0].codigoProducto);\n            this.stock = this.productos[0].stock;\n            this.descuentoMaximo = this.precioReal - 1;\n            this.precioFinal();\n          });\n        }\n      }\n    }\n    //AGREGA LOS DATOS A LA TABLA\n    addData() {\n      this.productoEdita = true;\n      const values = this.groupProducto.value;\n      this.listaProductoItem = {};\n      this.listaProductoItem.codigoProducto = values[\"codigo\"];\n      this.listaProductoItem.descripcion = values[\"descripcion\"];\n      this.listaProductoItem.cantidad = values['cantidad'];\n      this.listaProductoItem.subTotal = this.precioSugerido;\n      this.listaProductoItem.precioUnitario = this.precioReal;\n      this.listaProductoItem.descuento = values['descuento'];\n      this.listaProductoItem.accion = 'I';\n      const index = this.listaProductoItemGeneral.findIndex(i => i.codigoProducto === this.listaProductoItem.codigoProducto);\n      if (index === -1) {\n        this.dataTable = this.listaProductoItemGeneral;\n        this.tablaMuestra.push(this.listaProductoItem);\n        this.listaProductoItemGeneral.push(this.listaProductoItem);\n        this.dataTable = Array.from(this.listaProductoItemGeneral);\n      } else {\n        //SI EL PRODUCTO ES REPETIDO INGRESA AQUI\n        for (let i = 0; i < this.listaProductoItemGeneral.length; i++) {\n          //EVALUA CON QUE CODIGO COINCIDE\n          if (this.listaProductoItemGeneral[i].codigoProducto === this.listaProductoItem.codigoProducto) {\n            //MODIFICA\n            this.tablaMuestra[i].codigoProducto = this.listaProductoItem.codigoProducto;\n            this.tablaMuestra[i].descripcion = this.listaProductoItem.descripcion;\n            this.tablaMuestra[i].cantidad = this.listaProductoItem.cantidad;\n            this.tablaMuestra[i].subTotal = (this.precioReal - values['descuento']) * values['cantidad'];\n            this.tablaMuestra[i].precioUnitario = this.listaProductoItem.precioUnitario;\n            this.tablaMuestra[i].descuento = this.listaProductoItem.descuento;\n            this.tablaMuestra[i].accion = 'U';\n            this.listaProductoItemGeneral[i].codigoProducto = this.listaProductoItem.codigoProducto;\n            this.listaProductoItemGeneral[i].descripcion = this.listaProductoItem.descripcion;\n            this.listaProductoItemGeneral[i].cantidad = this.listaProductoItem.cantidad;\n            this.listaProductoItemGeneral[i].subTotal = (this.precioReal - values['descuento']) * values['cantidad'];\n            this.listaProductoItemGeneral[i].precioUnitario = this.listaProductoItem.precioUnitario;\n            this.listaProductoItemGeneral[i].descuento = this.listaProductoItem.descuento;\n            this.listaProductoItemGeneral[i].accion = 'U';\n            this.dataTable = Array.from(this.listaProductoItemGeneral);\n          }\n          this.dataTable = Array.from(this.listaProductoItemGeneral);\n        }\n      }\n      this.guardarTabla();\n    }\n    // editData(){\n    //   const values = this.groupProducto.value\n    //   this.listaProductoItem   = <ListaProducto>{}\n    //   this.listaProductoItem.codigoProducto = values[\"codigo\"]\n    //   this.listaProductoItem.descripcion = values[\"descripcion\"]\n    //   this.listaProductoItem.cantidad = values['cantidad']\n    //   this.listaProductoItem.subTotal = this.precioSugerido\n    //   this.listaProductoItem.precioUnitario = this.precioReal\n    //   this.listaProductoItem.descuento = values['descuento'] * values['cantidad']\n    //   this.listaProductoItem.accion = 'I'\n    // }\n    //PRECIO FINAL DEL PRODUCTO CANTIDAD x PRECIO\n    precioFinal() {\n      const values = this.groupProducto.value;\n      this.precioSugerido = (this.precioReal - values['descuento']) * values['cantidad'];\n    }\n    //LISTA LOS CLIENTES\n    listarCliente() {\n      if (this.groupCliente.valid) {\n        const valuesCliente = this.groupCliente.value;\n        const requestCliente = {};\n        requestCliente.CodigoCliente = valuesCliente['codigo'];\n        requestCliente.tipoCliente = '%';\n        requestCliente.nombres = '%';\n        requestCliente.apellidopaterno = '%';\n        requestCliente.apellidomaterno = '%';\n        requestCliente.c_razonsocial = '%';\n        requestCliente.tipodocumento = '%';\n        requestCliente.numerodocumento = '%';\n        requestCliente.departamento = '';\n        requestCliente.provincia = '';\n        requestCliente.distrito = '';\n        requestCliente.estado = '';\n        this.clienteService.listarcliente(requestCliente).subscribe(response => {\n          this.clienteResponse = response;\n          this.clientes = this.clienteResponse.datos.result;\n          this.groupCliente.controls['nombre'].setValue(this.clientes[0].nombres);\n          this.groupCliente.controls['nroDocumento'].setValue(this.clientes[0].numerodocumento);\n          this.groupCliente.controls['tipoDocumento'].setValue(this.clientes[0].tipodocumento);\n          this.groupCliente.controls['direccion'].setValue(this.clientes[0].direccion);\n        });\n      }\n    }\n    //ELIMINA DATOS DE LA TABLA\n    EliminarItem(row) {\n      const index = this.listaProductoItemGeneral.findIndex(x => x.codigoProducto === row.codigoProducto);\n      if (index !== -1) {\n        this.listaProductoItemGeneral.splice(index, 1);\n        this.tablaMuestra[index].accion = 'D';\n        this.dataTable = Array.from(this.listaProductoItemGeneral);\n      }\n    }\n    //APLICA LOS DATOS FINALES, SUB TOTAL, IGV...\n    guardarTabla() {\n      if (this.listaProductoItemGeneral.length != 0) {\n        this.subTotal = 0;\n        this.descuentoTotal = 0;\n        this.igv = 0;\n        this.total = 0;\n        for (let i = 0; i < this.listaProductoItemGeneral.length; i++) {\n          this.subTotal += this.listaProductoItemGeneral[i].subTotal;\n          this.descuentoTotal += this.listaProductoItemGeneral[i].descuento;\n          this.igv = Number(Number(this.subTotal * 0.18).toFixed(2));\n          this.total = Number((this.subTotal + this.igv).toFixed(2));\n        }\n      } else {\n        this.subTotal = 0;\n        this.descuentoTotal = 0;\n        this.igv = 0;\n        this.total = 0;\n      }\n    }\n    //GUARDA COMPROBANTE\n    crearVenta() {\n      if (this.groupVenta.valid) {\n        const values = this.groupVenta.value;\n        const valuesCliente = this.groupCliente.value;\n        const requestVenta = {};\n        if (valuesCliente['codigo'] != undefined) {\n          if (valuesCliente['codigo'] === null) {\n            requestVenta.CodigoCliente = String(this.codigoCliente);\n          } else {\n            requestVenta.CodigoCliente = valuesCliente['codigo'];\n            if (requestVenta.CodigoCliente === null || requestVenta.CodigoCliente === '') {\n              requestVenta.CodigoCliente = '0';\n            }\n          }\n        } else {\n          requestVenta.CodigoCliente = '0';\n        }\n        requestVenta.CodigoComprobante = '0';\n        requestVenta.CodigoTipoDocumento = values['documento'];\n        requestVenta.SerieDocumento = '001';\n        requestVenta.NroDocumento = String(this.numDoc);\n        requestVenta.TipoCambio = '3.35';\n        requestVenta.DocumentoReferencia = '';\n        requestVenta.ClienteNombre = valuesCliente['nombre'];\n        requestVenta.ClienteDireccion = valuesCliente['direccion'];\n        requestVenta.ClienteTelefono = valuesCliente['telefono'];\n        requestVenta.ClienteTipoDoc = valuesCliente['tipoDocumento'];\n        requestVenta.ClienteDocumento = valuesCliente['nroDocumento'];\n        requestVenta.CodigoVendedor = '1';\n        requestVenta.Periodo = '202303';\n        requestVenta.FechaEmision = String(this.fechaString);\n        requestVenta.SubTotal = this.subTotal;\n        requestVenta.IGV = this.igv;\n        requestVenta.MontoTotal = this.total;\n        requestVenta.FechaAnulacion = null;\n        requestVenta.Estado = 'PR';\n        requestVenta.Usuario = 'ADMIN';\n        requestVenta.Tipo = 'I';\n        requestVenta.CodigoEmpresa = '00000001';\n        requestVenta.CodigoTienda = values['tienda'];\n        if (requestVenta.ClienteDireccion === null) {\n          requestVenta.ClienteDireccion = '';\n        }\n        if (requestVenta.ClienteTelefono === null) {\n          requestVenta.ClienteTelefono = '';\n        }\n        if (requestVenta.ClienteTipoDoc === null) {\n          requestVenta.ClienteTipoDoc = '';\n        }\n        if (requestVenta.ClienteDocumento === null) {\n          requestVenta.ClienteDocumento = '';\n        }\n        const detalleVenta = [];\n        for (let i = 0; i < this.listaProductoItemGeneral.length; i++) {\n          const detalleRequest = {};\n          detalleRequest.CodigoComprobante = '0';\n          detalleRequest.CodigoProducto = String(this.listaProductoItemGeneral[i].codigoProducto);\n          detalleRequest.Cantidad = this.listaProductoItemGeneral[i].cantidad;\n          detalleRequest.PrecioSugerido = this.listaProductoItemGeneral[i].precioUnitario;\n          detalleRequest.Descuento = this.listaProductoItemGeneral[i].descuento;\n          detalleRequest.PrecioFinal = this.listaProductoItemGeneral[i].precioUnitario - this.listaProductoItemGeneral[i].descuento;\n          detalleRequest.SubTotal = this.listaProductoItemGeneral[i].subTotal;\n          detalleRequest.CodigoEmpresa = '00000001';\n          detalleRequest.Estado = 'PR';\n          detalleRequest.Accion = 'I';\n          detalleVenta.push(detalleRequest);\n        }\n        ;\n        requestVenta.ComprobanteDetalle = detalleVenta;\n        this.clienteService.guardaComprobante(requestVenta).subscribe(response => {\n          this.ventaResponse = response;\n          this.listaProductoItemGeneral = [];\n          this.util.showMessage('GUARDADO CORRECTAMENTE');\n          this.ngOnInit();\n          this.limpiar();\n        }, error => {\n          console.log('ESTE ES EL ERROR');\n          console.log(error);\n        });\n      }\n    }\n    //EDITA COMPROBANTE\n    modificaVenta() {\n      if (this.groupVenta.valid) {\n        const values = this.groupVenta.value;\n        const valuesCliente = this.groupCliente.value;\n        const requestVenta = {};\n        requestVenta.CodigoCliente = String(this.codigoCliente);\n        requestVenta.CodigoComprobante = this.codigoComprobante;\n        requestVenta.CodigoTipoDocumento = this.tipoParametro;\n        requestVenta.SerieDocumento = '001';\n        requestVenta.NroDocumento = String(this.numDoc);\n        requestVenta.TipoCambio = '3.35';\n        requestVenta.DocumentoReferencia = '';\n        requestVenta.ClienteNombre = this.nombre;\n        requestVenta.ClienteDireccion = this.direccion;\n        requestVenta.ClienteTelefono = '960430798                                                                    ';\n        requestVenta.ClienteTipoDoc = this.tDocumento;\n        requestVenta.ClienteDocumento = this.nDocumento;\n        requestVenta.CodigoVendedor = '1';\n        requestVenta.Periodo = '202303';\n        requestVenta.FechaEmision = String(this.fechaString);\n        requestVenta.SubTotal = this.subTotal;\n        requestVenta.IGV = this.igv;\n        requestVenta.MontoTotal = this.total;\n        requestVenta.FechaAnulacion = null;\n        requestVenta.Estado = 'PR';\n        requestVenta.Usuario = 'ADMIN';\n        requestVenta.Tipo = 'U';\n        requestVenta.CodigoEmpresa = '00000001';\n        requestVenta.CodigoTienda = this.nombreTienda;\n        if (requestVenta.ClienteDireccion === null) {\n          requestVenta.ClienteDireccion = '';\n        }\n        if (requestVenta.ClienteTelefono === null) {\n          requestVenta.ClienteTelefono = '';\n        }\n        if (requestVenta.ClienteTipoDoc === null) {\n          requestVenta.ClienteTipoDoc = '';\n        }\n        if (requestVenta.ClienteDocumento === null) {\n          requestVenta.ClienteDocumento = '';\n        }\n        const detalleVenta = [];\n        this.listaProductoItemGeneral = this.tablaMuestra;\n        for (let i = 0; i < this.listaProductoItemGeneral.length; i++) {\n          const detalleRequest = {};\n          detalleRequest.CodigoComprobante = this.codigoComprobante;\n          detalleRequest.CodigoProducto = String(this.listaProductoItemGeneral[i].codigoProducto);\n          detalleRequest.Cantidad = this.listaProductoItemGeneral[i].cantidad;\n          detalleRequest.PrecioSugerido = this.listaProductoItemGeneral[i].precioUnitario;\n          detalleRequest.Descuento = this.listaProductoItemGeneral[i].descuento;\n          detalleRequest.PrecioFinal = this.listaProductoItemGeneral[i].precioUnitario - this.listaProductoItemGeneral[i].descuento;\n          detalleRequest.SubTotal = this.listaProductoItemGeneral[i].subTotal; //El valor llega hasta aca correctamente pero no se agrega\n          detalleRequest.CodigoEmpresa = '00000001';\n          detalleRequest.Estado = 'PR';\n          if (this.listaProductoItemGeneral[i].accion === undefined) {\n            detalleRequest.Accion = 'U';\n          } else {\n            detalleRequest.Accion = this.listaProductoItemGeneral[i].accion;\n          }\n          detalleVenta.push(detalleRequest);\n        }\n        ;\n        requestVenta.ComprobanteDetalle = detalleVenta;\n        this.clienteService.guardaComprobante(requestVenta).subscribe(response => {\n          this.ventaResponse = response;\n          this.util.showMessage('MODIFICADO CORRECTAMENTE');\n          this.ngOnInit();\n        }, error => {\n          console.log('ESTE ES EL ERROR');\n          console.log(error);\n        });\n      }\n    }\n    //Mensaje de confirmacion, por si quiere eliminar\n    confirmAction(value) {\n      this.dialogo.open(DialogoConfirmacionComponent, {\n        data: `¿Desea Eliminar Fila?`\n      }).afterClosed().subscribe(confirmado => {\n        if (confirmado) {\n          this.EliminarItem(value);\n          this.guardarTabla();\n        }\n      });\n    }\n    //LISTA LOS PARAMETROS\n    listarParametros(value) {\n      const requestParamtros = {};\n      requestParamtros.CodigoParametros = value;\n      requestParamtros.CodigoSistema = 'VET';\n      this.clienteService.listaParametros(requestParamtros).subscribe(response => {\n        this.numDoc = Number(response.datos.result[0].descripcion);\n      });\n    }\n    //Muestra Comprobante\n    muestraComprobante(value) {\n      const fd = new FormData();\n      const requestListadoVentas = {}; //  this.group.value;\n      requestListadoVentas.CodigoComprobante = value;\n      requestListadoVentas.CodigoCliente = \"0\", requestListadoVentas.FechaInicio = \"1980-04-09T00:00:00\", requestListadoVentas.FechaFin = \"2040-04-09T00:00:00\", requestListadoVentas.CodigoTipoDocumento = \"\", requestListadoVentas.CodigoTienda = \"0\";\n      requestListadoVentas.CodigoEmpresa = \"00000001\";\n      this.listadoVentasService.listar(requestListadoVentas).subscribe(response => {\n        let datosVenta = response.datos.result[0];\n        let productosComprados = response.datos.result[0].listadoProducto;\n        this.numDoc = Number(response.datos.result[0].nroDocumento);\n        this.nombre = datosVenta.clienteNombre;\n        this.tDocumento = datosVenta.clienteTipoDoc;\n        this.nDocumento = datosVenta.clienteDocumento;\n        this.direccion = datosVenta.clienteDireccion;\n        this.codigoCliente = datosVenta.codigoCliente;\n        this.listaProductoItemGeneral = productosComprados;\n        this.tablaMuestra = JSON.parse(JSON.stringify(this.listaProductoItemGeneral));\n        this.dataTable = Array.from(this.listaProductoItemGeneral);\n        this.guardarTabla();\n      });\n    }\n    limpiar() {\n      this.listaProductoItemGeneral = [];\n      this.dataTable = this.listaProductoItemGeneral;\n      this.guardarTabla();\n      this.groupCliente.reset();\n    }\n    editaProducto(row) {\n      const index = this.listaProductoItemGeneral.findIndex(i => i.codigoProducto === row.codigoProducto);\n      this.listaProductoItemGeneral;\n      console.log(index);\n      this.productoEdita = false;\n      this.listarProducto(row.codigoProducto);\n      this.cantidad = row.cantidad;\n      this.descuento = row.descuento;\n    }\n    salir() {\n      this.productoEdita = true;\n      this.groupProducto.reset();\n    }\n  }\n  RegVentasComponent.ɵfac = function RegVentasComponent_Factory(t) {\n    return new (t || RegVentasComponent)(i0.ɵɵdirectiveInject(i1.ListadoVentasRepository), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.UtilService), i0.ɵɵdirectiveInject(i4.ClienteRepository), i0.ɵɵdirectiveInject(i4.ClienteRepository), i0.ɵɵdirectiveInject(i5.StorageService), i0.ɵɵdirectiveInject(i6.ActivatedRoute), i0.ɵɵdirectiveInject(i7.TiendaRepository), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n  RegVentasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegVentasComponent,\n    selectors: [[\"app-reg-ventas\"]],\n    inputs: {\n      valorRecibido: \"valorRecibido\"\n    },\n    decls: 117,\n    vars: 47,\n    consts: [[2, \"text-align\", \"center\", \"margin-top\", \"70px\"], [3, \"formGroup\"], [1, \"caja_venta\"], [1, \"caja\"], [1, \"caja_uno\"], [4, \"ngIf\", \"ngIfElse\"], [\"tiendaModifica\", \"\"], [\"inputComponent\", \"\"], [\"appearance\", \"outline\", \"color\", \"primary\", 2, \"width\", \"30%\"], [\"matInput\", \"\", \"type\", \"text\", \"readonly\", \"\", 1, \"iput\", 2, \"text-align\", \"center\", \"font-size\", \"16px\", 3, \"value\"], [1, \"fecha\", 2, \"background-color\", \"var(--color-tarjeta)\"], [2, \"font-size\", \"12px\", \"color\", \"rgb(165, 161, 161)\"], [\"contentEditable\", \"false\", 2, \"font-size\", \"20px\"], [1, \"caja_dos\"], [\"mat-raised-button\", \"\", \"class\", \"button_venta\", 3, \"click\", 4, \"ngIf\"], [1, \"caja_cliente\"], [2, \"text-align\", \"center\"], [1, \"caja\", 3, \"formGroup\"], [1, \"caja_cliente_datos\"], [1, \"datos_cliente\"], [\"appearance\", \"outline\", \"color\", \"primary\", 2, \"width\", \"65%\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Nombre\", \"formControlName\", \"nombre\", 1, \"iput\", 3, \"value\", \"readonly\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"codigo\", \"min\", \"0\", 1, \"iput\", 2, \"text-align\", \"center\", \"font-size\", \"16px\", 3, \"readonly\", \"change\"], [1, \"caja_datos_dos\"], [\"appearance\", \"outline\", 2, \"width\", \"30%\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Tipo Documento\", \"formControlName\", \"tipoDocumento\", 3, \"value\", \"readonly\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Nro Documento\", \"formControlName\", \"nroDocumento\", 3, \"value\", \"readonly\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Telefono\", \"formControlName\", \"telefono\", 3, \"value\", \"disabled\"], [\"appearance\", \"outline\", 2, \"width\", \"100%\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Direccion\", \"formControlName\", \"direccion\", 3, \"value\"], [4, \"ngIf\"], [1, \"caja_producto\"], [1, \"caja_producto_uno\"], [\"appearance\", \"outline\", 2, \"width\", \"80%\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"codigo\", \"min\", \"0\", 2, \"text-align\", \"center\", \"font-size\", \"25px\", 3, \"readonly\", \"change\"], [1, \"fecha\", \"stock\", 2, \"background-color\", \"var(--color-tarjeta)\"], [\"contentEditable\", \"false\", 2, \"font-size\", \"25px\"], [1, \"caja_producto_dos\"], [1, \"caja_prod\"], [\"appearance\", \"outline\", 1, \"input\", 2, \"width\", \"100%\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"descripcion\", 3, \"value\", \"readonly\"], [1, \"datos_producto\"], [\"appearance\", \"outline\", 2, \"width\", \"25%\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"cantidad\", \"min\", \"1\", 2, \"text-align\", \"center\", \"font-size\", \"25px\", 3, \"max\", \"value\", \"input\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", \"formControlName\", \"descuento\", 2, \"text-align\", \"center\", \"font-size\", \"25px\", 3, \"max\", \"value\", \"input\"], [\"appearance\", \"outline\", 2, \"width\", \"40%\"], [\"matInput\", \"\", \"type\", \"number\", \"readonly\", \"\", \"formControlName\", \"precioReal\", 2, \"text-align\", \"center\", \"font-size\", \"25px\", 3, \"value\"], [1, \"caja_final\"], [1, \"fecha\", \"stock\", 2, \"width\", \"73%\", \"background-color\", \"var(--color-tarjeta)\"], [1, \"botones\"], [\"mat-button\", \"\", \"type\", \"button\", \"class\", \"btn-add\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-button\", \"\", \"type\", \"button\", \"class\", \"btn-add\", 3, \"click\", 4, \"ngIf\"], [3, \"dataTable\", \"metadataTable\"], [\"matColumnDef\", \"actions\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"style\", \"background-color: var(--color-filas);\", 4, \"matCellDef\"], [1, \"caja_tres\"], [\"matInput\", \"\", \"type\", \"number\", \"readonly\", \"\", 2, \"text-align\", \"center\", \"font-size\", \"25px\", 3, \"value\"], [\"appearance\", \"fill\", \"appearance\", \"outline\", 1, \"list\"], [\"name\", \"tienda\", \"formControlName\", \"tienda\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"appearance\", \"fill\", \"appearance\", \"outline\", 1, \"list\", 2, \"margin-left\", \"10px\"], [\"name\", \"documento\", \"formControlName\", \"documento\"], [\"value\", \"FA\", 3, \"click\"], [\"value\", \"BO\", 3, \"click\"], [\"mat-raised-button\", \"\", 1, \"button_venta\", 3, \"click\"], [1, \"iconos\"], [\"mat-button\", \"\", \"type\", \"button\", 1, \"boton_icono\", 2, \"background-color\", \"var(--color-tarjeta)\"], [1, \"icon\", 3, \"click\"], [1, \"icon\"], [\"mat-button\", \"\", \"type\", \"button\", 1, \"btn-add\", 3, \"disabled\", \"click\"], [\"mat-button\", \"\", \"type\", \"button\", 1, \"btn-add\", 3, \"click\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 2, \"background-color\", \"var(--color-filas)\"], [\"mat-button\", \"\", 1, \"eliminarFila\", 3, \"click\"]],\n    template: function RegVentasComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"h1\", 0);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1)(4, \"mat-card\", 2)(5, \"div\", 3)(6, \"div\", 4);\n        i0.ɵɵtemplate(7, RegVentasComponent_ng_container_7_Template, 6, 1, \"ng-container\", 5);\n        i0.ɵɵtemplate(8, RegVentasComponent_ng_template_8_Template, 4, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(10, RegVentasComponent_ng_container_10_Template, 9, 0, \"ng-container\", 5);\n        i0.ɵɵtemplate(11, RegVentasComponent_ng_template_11_Template, 4, 1, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(13, \"mat-form-field\", 8)(14, \"mat-label\");\n        i0.ɵɵtext(15, \"Nro.Doc\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-card\", 10)(18, \"mat-label\", 11);\n        i0.ɵɵtext(19, \"Fecha Actual\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-card-content\", 12);\n        i0.ɵɵtext(21);\n        i0.ɵɵpipe(22, \"date\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 13);\n        i0.ɵɵtemplate(24, RegVentasComponent_button_24_Template, 2, 0, \"button\", 14);\n        i0.ɵɵtemplate(25, RegVentasComponent_button_25_Template, 2, 0, \"button\", 14);\n        i0.ɵɵtemplate(26, RegVentasComponent_button_26_Template, 2, 0, \"button\", 14);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(27, \"div\", 3)(28, \"mat-card\", 15)(29, \"h1\", 16);\n        i0.ɵɵtext(30, \"Detalle Cliente\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 17)(32, \"div\", 18)(33, \"div\", 19)(34, \"mat-form-field\", 20);\n        i0.ɵɵelement(35, \"input\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"mat-form-field\", 8)(37, \"mat-label\");\n        i0.ɵɵtext(38, \"Cod. Cliente\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"input\", 22);\n        i0.ɵɵlistener(\"change\", function RegVentasComponent_Template_input_change_39_listener() {\n          return ctx.listarCliente();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(40, \"div\", 23)(41, \"mat-form-field\", 24);\n        i0.ɵɵelement(42, \"input\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"mat-form-field\", 24);\n        i0.ɵɵelement(44, \"input\", 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"mat-form-field\", 24);\n        i0.ɵɵelement(46, \"input\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"div\")(48, \"mat-form-field\", 28);\n        i0.ɵɵelement(49, \"input\", 29);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(50, RegVentasComponent_ng_container_50_Template, 8, 0, \"ng-container\", 30);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(51, \"mat-card\", 31)(52, \"h1\", 16);\n        i0.ɵɵtext(53, \"Detalle Producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 17)(55, \"div\", 32)(56, \"mat-form-field\", 33)(57, \"mat-label\");\n        i0.ɵɵtext(58, \"Codigo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"input\", 34);\n        i0.ɵɵlistener(\"change\", function RegVentasComponent_Template_input_change_59_listener() {\n          return ctx.listarProducto(0);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(60, \"mat-card\", 35)(61, \"mat-label\", 11);\n        i0.ɵɵtext(62, \"Stock\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"mat-card-content\", 36);\n        i0.ɵɵtext(64);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(65, \"div\", 37)(66, \"div\", 38)(67, \"div\")(68, \"mat-form-field\", 39);\n        i0.ɵɵelement(69, \"input\", 40);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(70, \"div\", 41)(71, \"mat-form-field\", 42)(72, \"mat-label\");\n        i0.ɵɵtext(73, \"Cantidad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"input\", 43);\n        i0.ɵɵlistener(\"input\", function RegVentasComponent_Template_input_input_74_listener() {\n          return ctx.precioFinal();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(75, \"mat-form-field\", 24)(76, \"mat-label\");\n        i0.ɵɵtext(77, \"Descuento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"input\", 44);\n        i0.ɵɵlistener(\"input\", function RegVentasComponent_Template_input_input_78_listener() {\n          return ctx.precioFinal();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(79, \"mat-form-field\", 45)(80, \"mat-label\");\n        i0.ɵɵtext(81, \"Precio Sugerido\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(82, \"input\", 46);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(83, \"div\", 47)(84, \"div\")(85, \"mat-card\", 48)(86, \"mat-label\", 11);\n        i0.ɵɵtext(87, \"Precio Final\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(88, \"mat-card-content\", 36);\n        i0.ɵɵtext(89);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(90, \"div\", 49);\n        i0.ɵɵtemplate(91, RegVentasComponent_button_91_Template, 2, 1, \"button\", 50);\n        i0.ɵɵtemplate(92, RegVentasComponent_button_92_Template, 2, 1, \"button\", 50);\n        i0.ɵɵtemplate(93, RegVentasComponent_button_93_Template, 2, 1, \"button\", 50);\n        i0.ɵɵtemplate(94, RegVentasComponent_button_94_Template, 2, 0, \"button\", 51);\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(95, \"div\")(96, \"app-table\", 52);\n        i0.ɵɵelementContainerStart(97, 53);\n        i0.ɵɵtemplate(98, RegVentasComponent_th_98_Template, 1, 0, \"th\", 54);\n        i0.ɵɵtemplate(99, RegVentasComponent_td_99_Template, 7, 0, \"td\", 55);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(100, \"div\", 56)(101, \"mat-form-field\", 45)(102, \"mat-label\");\n        i0.ɵɵtext(103, \"Sub Total\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(104, \"input\", 57);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(105, \"mat-form-field\", 45)(106, \"mat-label\");\n        i0.ɵɵtext(107, \"Descuento Total\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(108, \"input\", 57);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(109, \"mat-form-field\", 45)(110, \"mat-label\");\n        i0.ɵɵtext(111, \"IGV\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(112, \"input\", 57);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(113, \"mat-form-field\", 45)(114, \"mat-label\");\n        i0.ɵɵtext(115, \"Total S/.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(116, \"input\", 57);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(9);\n        const _r4 = i0.ɵɵreference(12);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.titulo);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.groupVenta);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.condicion)(\"ngIfElse\", _r1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.condicion)(\"ngIfElse\", _r4);\n        i0.ɵɵadvance(6);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.numDoc);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(22, 44, ctx.fechaActual, \"dd/MM/yyyy\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.condicion);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.condicion);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.condicion);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.groupCliente);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.nombre);\n        i0.ɵɵproperty(\"readonly\", ctx.condicion ? \"false\" : \"true\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"readonly\", ctx.condicion ? \"false\" : \"true\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.tDocumento);\n        i0.ɵɵproperty(\"readonly\", ctx.condicion ? \"false\" : \"true\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.nDocumento);\n        i0.ɵɵproperty(\"readonly\", ctx.condicion ? \"false\" : \"true\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.telefono);\n        i0.ɵɵproperty(\"disabled\", ctx.isTable);\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.direccion);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.condicion);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.groupProducto);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"readonly\", ctx.productoEdita ? \"false\" : \"true\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.stock);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.descProducto);\n        i0.ɵɵproperty(\"readonly\", ctx.productoEdita ? \"false\" : \"true\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"max\", ctx.stock);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.cantidad);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"max\", ctx.descuentoMaximo);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.descuento);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.precioReal);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"S/\", ctx.precioSugerido, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.productoEdita);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productoEdita);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productoEdita);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.productoEdita);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataTable\", ctx.dataTable)(\"metadataTable\", ctx.metadataTable);\n        i0.ɵɵadvance(8);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.subTotal);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.descuentoTotal);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.igv);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.total);\n      }\n    },\n    dependencies: [i8.NgForOf, i8.NgIf, i9.MatCard, i9.MatCardContent, i10.MatFormField, i10.MatLabel, i11.MatInput, i12.MatButton, i13.MatIcon, i14.ɵNgNoValidate, i14.DefaultValueAccessor, i14.NumberValueAccessor, i14.NgControlStatus, i14.NgControlStatusGroup, i14.MinValidator, i14.MaxValidator, i14.FormGroupDirective, i14.FormControlName, i15.MatHeaderCellDef, i15.MatColumnDef, i15.MatCellDef, i15.MatHeaderCell, i15.MatCell, i16.TableComponent, i17.ErrorControlDirective, i18.MatSelect, i19.MatOption, i8.DatePipe],\n    styles: [\"body[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;background-color:var(--color-fondo);height:100%;width:100%;position:absolute;top:0;left:0}mat-card[_ngcontent-%COMP%]{margin:15px}.caja[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.caja_venta[_ngcontent-%COMP%]{background-color:var(--color-tarjeta)}.caja_uno[_ngcontent-%COMP%]{display:flex;width:55%}.caja_prod[_ngcontent-%COMP%]{width:85%}.caja_producto[_ngcontent-%COMP%]{width:42%;background-color:var(--color-tarjeta)}.caja_producto_uno[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:30%}.caja_producto_dos[_ngcontent-%COMP%]{display:flex;width:80%}.caja_cliente[_ngcontent-%COMP%]{width:50%;background-color:var(--color-tarjeta)}.caja_cliente_datos[_ngcontent-%COMP%]{width:90%;display:flex;flex-direction:column}.caja_datos_dos[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.caja_tres[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.button[_ngcontent-%COMP%]{width:150px;margin-right:12px;background-color:var(--color-fondo)}.input[_ngcontent-%COMP%]{width:95%}.list[_ngcontent-%COMP%]{height:60px;width:250px}.button_venta[_ngcontent-%COMP%]{font-size:20px;margin:10 auto;width:180px;height:40px;margin-right:12px;border-radius:15px;color:#fff;background-color:var(--color-boton)}.button_venta[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.iconos[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:10%;margin-top:10px}.icon[_ngcontent-%COMP%]{font-size:44px;margin:0 auto;background-color:var(--color-tarjeta)}.fecha[_ngcontent-%COMP%]{height:30px;margin:0 auto 0 20px}.stock[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:62%;margin-left:0}.caja_cliente_datos_uno[_ngcontent-%COMP%]{height:30%;display:flex;justify-content:space-between}.datos_producto[_ngcontent-%COMP%], .caja_final[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.botones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:72%}button[_ngcontent-%COMP%]{height:44px;width:44px;background-color:var(--color-boton)}.demo-table[_ngcontent-%COMP%]{width:100%}.demo-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.demo-button[_ngcontent-%COMP%] + .demo-button[_ngcontent-%COMP%]{margin-left:8px}.datos_cliente[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.table[_ngcontent-%COMP%]{font-family:Arial,sans-serif;border-collapse:collapse;width:99%;margin:0 auto;text-align:center;font-size:1.5rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #1e1e1e;padding:8px;text-align:center}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:24px;background-color:var(--color-primary)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:var(--color-filas)}.cuerpo[_ngcontent-%COMP%]{background-color:#e4e0e0}.cuerpo[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:4rem;text-align:center;font-size:1.5rem;border:none;background-color:transparent}.delete[_ngcontent-%COMP%]{font-size:1.5rem}.btn-add[_ngcontent-%COMP%]{background-color:var(--color-boton);border:none;color:#fff;padding:10px 20px;text-align:center;text-decoration:none;display:inline-block;font-size:20px;border-radius:45px;cursor:pointer;width:40%;height:100%;width:var(--button-size);height:var(--button-size)}.btn-add[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.boton_icono[_ngcontent-%COMP%], .eliminarFila[_ngcontent-%COMP%]{background-color:var(--color-filas)}\"]\n  });\n  return RegVentasComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}