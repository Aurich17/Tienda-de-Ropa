{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../domain/listadoVentas.respository\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/table\";\nimport * as i9 from \"../../../../shared/components/table/table.component\";\nimport * as i10 from \"../../../../shared/directives/error-control.directive\";\nimport * as i11 from \"@angular/material/datepicker\";\nimport * as i12 from \"@angular/material/select\";\nimport * as i13 from \"@angular/material/core\";\nfunction ListadoVentasComponent_th_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 25);\n  }\n}\nfunction ListadoVentasComponent_td_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 26)(1, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ListadoVentasComponent_td_47_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const row_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.abrirComponenteDestino(row_r4));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n//@ts-ignore\nexport let ListadoVentasComponent = /*#__PURE__*/(() => {\n  class ListadoVentasComponent {\n    initializeForm() {\n      this.groupVentas = new FormGroup({\n        name: new FormControl(null, null),\n        tDocumento: new FormControl(null, null),\n        nDocumento: new FormControl(null, null),\n        tienda: new FormControl(null, null),\n        fechaInicio: new FormControl(null, null),\n        fechaFin: new FormControl(null, null)\n      });\n    }\n    constructor(listadoVentasService, router) {\n      this.listadoVentasService = listadoVentasService;\n      this.router = router;\n      this.metadataTable = [{\n        field: \"codigoComprobante\",\n        title: \"Cod.Comprobante\"\n      }, {\n        field: \"codigoCliente\",\n        title: \"Cod.Cliente\"\n      }, {\n        field: \"codigoTipoDocumento\",\n        title: \"Tipo Documento\"\n      }, {\n        field: \"nroDocumento\",\n        title: \"Nro. Documento\"\n      }, {\n        field: \"clienteNombre\",\n        title: \"Cliente\"\n      }, {\n        field: \"montoTotal\",\n        title: \"Monto Total\"\n      }, {\n        field: \"fechaEmision\",\n        title: \"Fecha\"\n      }, {\n        field: \"usuario_reg\",\n        title: \"Usuario\"\n      }];\n    }\n    ngOnInit() {\n      this.initializeForm();\n      this.muestra();\n    }\n    abrirComponenteDestino(row) {\n      this.router.navigate(['/Registro', row]);\n    }\n    muestra() {\n      if (this.groupVentas.valid) {\n        const fd = new FormData();\n        const values = this.groupVentas.value;\n        const requestListadoVentas = {}; //  this.group.value;\n        requestListadoVentas.CodigoComprobante = \"0\";\n        requestListadoVentas.CodigoCliente = \"0\";\n        requestListadoVentas.FechaInicio = values['fechaInicio'];\n        requestListadoVentas.FechaFin = values['fechaFin'];\n        requestListadoVentas.CodigoTipoDocumento = values['tDocumento'];\n        requestListadoVentas.CodigoTienda = \"0\";\n        requestListadoVentas.CodigoEmpresa = \"00000001\";\n        if (requestListadoVentas.FechaInicio === '' || requestListadoVentas.FechaInicio == null) {\n          requestListadoVentas.FechaInicio = \"1980-04-09T00:00:00\";\n        }\n        if (requestListadoVentas.FechaFin === '' || requestListadoVentas.FechaFin == null) {\n          requestListadoVentas.FechaFin = \"2040-04-09T00:00:00\";\n        }\n        if (requestListadoVentas.CodigoTipoDocumento === '' || requestListadoVentas.CodigoTipoDocumento == null) {\n          requestListadoVentas.CodigoTipoDocumento = \"\";\n        }\n        this.listadoVentasService.listar(requestListadoVentas).subscribe(response => {\n          this.listadoVentasResponse = response;\n          const fechasEmision = this.listadoVentasResponse.datos.result.map(venta => {\n            const fecha = new Date(venta.fechaEmision);\n            const dia = fecha.getDate().toString().padStart(2, '0');\n            const mes = (fecha.getMonth() + 1).toString().padStart(2, '0');\n            const anio = fecha.getFullYear().toString();\n            venta.fechaEmision = `${dia}/${mes}/${anio}`;\n            return venta;\n          });\n          this.dataTable = this.listadoVentasResponse.datos.result;\n        });\n      }\n    }\n  }\n  ListadoVentasComponent.ɵfac = function ListadoVentasComponent_Factory(t) {\n    return new (t || ListadoVentasComponent)(i0.ɵɵdirectiveInject(i1.ListadoVentasRepository), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  ListadoVentasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListadoVentasComponent,\n    selectors: [[\"app-listado-ventas\"]],\n    decls: 48,\n    vars: 7,\n    consts: [[2, \"text-align\", \"center\", \"margin-top\", \"80px\"], [3, \"formGroup\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"name\", \"placeholder\", \"Cliente\"], [\"appearance\", \"fill\"], [\"formControlName\", \"tDocumento\"], [\"value\", \"BO\"], [\"value\", \"FA\"], [\"formControlName\", \"tienda\"], [\"value\", \"option1\"], [\"value\", \"option2\"], [\"value\", \"option3\"], [\"color\", \"accent\", \"appearance\", \"fill\"], [\"matInput\", \"\", \"readonly\", \"\", \"formControlName\", \"fechaInicio\", 3, \"matDatepicker\", \"dateChange\"], [\"matSuffix\", \"\", 3, \"for\"], [\"color\", \"primary\"], [\"picker1\", \"\"], [\"matInput\", \"\", \"readonly\", \"\", \"formControlName\", \"fechaFin\", 3, \"matDatepicker\", \"dateChange\"], [\"picker2\", \"\"], [1, \"botones\"], [\"mat-button\", \"\", 1, \"boton\"], [3, \"dataTable\", \"metadataTable\"], [\"matColumnDef\", \"actions\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"style\", \"background-color: var(--color-filas);\", 4, \"matCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 2, \"background-color\", \"var(--color-filas)\"], [\"mat-button\", \"\", 3, \"click\"]],\n    template: function ListadoVentasComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"h1\", 0);\n        i0.ɵɵtext(2, \"LISTADO DE VENTAS\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1)(4, \"mat-form-field\", 2);\n        i0.ɵɵelement(5, \"input\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-form-field\", 4)(7, \"mat-label\");\n        i0.ɵɵtext(8, \"Tipo Documento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-select\", 5)(10, \"mat-option\", 6);\n        i0.ɵɵtext(11, \"Boleta\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-option\", 7);\n        i0.ɵɵtext(13, \"Factura\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"mat-form-field\", 4)(15, \"mat-label\");\n        i0.ɵɵtext(16, \"Tienda\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-select\", 8)(18, \"mat-option\", 9);\n        i0.ɵɵtext(19, \"Tienda 1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-option\", 10);\n        i0.ɵɵtext(21, \"Tienda 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"mat-option\", 11);\n        i0.ɵɵtext(23, \"Tienda 3\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"mat-form-field\", 12)(25, \"mat-label\");\n        i0.ɵɵtext(26, \"Fecha Inicio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 13);\n        i0.ɵɵlistener(\"dateChange\", function ListadoVentasComponent_Template_input_dateChange_27_listener() {\n          return ctx.muestra();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"mat-datepicker-toggle\", 14)(29, \"mat-datepicker\", 15, 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"mat-form-field\", 12)(32, \"mat-label\");\n        i0.ɵɵtext(33, \"Fecha Fin\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"input\", 17);\n        i0.ɵɵlistener(\"dateChange\", function ListadoVentasComponent_Template_input_dateChange_34_listener() {\n          return ctx.muestra();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"mat-datepicker-toggle\", 14)(36, \"mat-datepicker\", 15, 18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"div\", 19)(39, \"button\", 20);\n        i0.ɵɵtext(40, \"Salir\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"button\", 20);\n        i0.ɵɵtext(42, \"Buscar\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"div\")(44, \"app-table\", 21);\n        i0.ɵɵelementContainerStart(45, 22);\n        i0.ɵɵtemplate(46, ListadoVentasComponent_th_46_Template, 1, 0, \"th\", 23);\n        i0.ɵɵtemplate(47, ListadoVentasComponent_td_47_Template, 4, 0, \"td\", 24);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(30);\n        const _r1 = i0.ɵɵreference(37);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.groupVentas);\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"matDatepicker\", _r0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r0);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matDatepicker\", _r1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r1);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"dataTable\", ctx.dataTable)(\"metadataTable\", ctx.metadataTable);\n      }\n    },\n    dependencies: [i3.MatFormField, i3.MatLabel, i3.MatSuffix, i4.MatInput, i5.MatButton, i6.MatIcon, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.FormGroupDirective, i7.FormControlName, i8.MatHeaderCellDef, i8.MatColumnDef, i8.MatCellDef, i8.MatHeaderCell, i8.MatCell, i9.TableComponent, i10.ErrorControlDirective, i11.MatDatepicker, i11.MatDatepickerInput, i11.MatDatepickerToggle, i12.MatSelect, i13.MatOption],\n    styles: [\"body[_ngcontent-%COMP%]{overflow:hidden;background-color:var(--color-fondo);height:100%;width:100%;position:absolute;top:0;left:0}form[_ngcontent-%COMP%]{width:99%;display:flex;margin:80px auto;flex-direction:row;justify-content:space-between;flex-wrap:wrap}.boton[_ngcontent-%COMP%]{font-size:20px;margin:0 12px 0 auto;width:180px;height:40px;border-radius:15px;color:#fff;background-color:var(--color-boton)}.botones[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:20px;margin-left:80%;display:flex;justify-content:space-around}\"]\n  });\n  return ListadoVentasComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}