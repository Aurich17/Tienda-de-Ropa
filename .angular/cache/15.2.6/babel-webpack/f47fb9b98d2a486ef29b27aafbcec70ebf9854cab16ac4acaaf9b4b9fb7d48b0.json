{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { RegMenuComponent } from '../reg-menu/reg-menu.component';\nimport { EditaMenuComponent } from '../edita-menu/edita-menu.component';\nlet ManteMenuComponent = class ManteMenuComponent {\n  initializeForm() {\n    this.group = new FormGroup({\n      desMenu: new FormControl(null, null),\n      listMenu: new FormControl(null, null),\n      estado: new FormControl(null, null)\n    });\n  }\n  constructor(matDialog, menuService, util) {\n    this.matDialog = matDialog;\n    this.menuService = menuService;\n    this.util = util;\n    this.select = 'false';\n    this.labelPosition = 'A';\n    this.selected = new FormControl('valid', [Validators.required, Validators.pattern('false')]);\n    this.nivel = 'nivel';\n    this.menus = 'menus';\n    this.dialogConfig = new MatDialogConfig();\n    this.estado = new FormControl('listMenu');\n    this.metadataTable = [{\n      field: 'codigoMenu',\n      title: 'Cod.Menu'\n    }, {\n      field: 'indicadorgrupomenu',\n      title: 'GrupoMenu'\n    }, {\n      field: 'descripcion',\n      title: 'Descripcion'\n    }, {\n      field: 'linkmenu',\n      title: 'Link-Menu'\n    }, {\n      field: 'codigogrupomenu',\n      title: 'Codigrupomenu'\n    }, {\n      field: 'estado',\n      title: 'Estado'\n    }, {\n      field: 'usuario_reg',\n      title: 'Usuario-Reg'\n    }];\n  }\n  ngAfterViewInit() {\n    document.onclick = args => {\n      if (args.target.tagName === 'BODY') {\n        this.modalDialog?.close();\n      }\n    };\n  }\n  agregarMenu() {\n    this.dialogConfig.id = \"projects-modal-component\";\n    this.dialogConfig.height = \"600px\";\n    this.dialogConfig.width = \"500px\";\n    this.dialogConfig.disableClose = true;\n    this.modalDialog = this.matDialog.open(RegMenuComponent, this.dialogConfig);\n  }\n  openModal(record) {\n    record = this.listaMenu;\n    //record = this.codigoEmpleado\n    //this.cantidadApoyo = 0;\n    const options = {\n      disableClose: true,\n      panelClass: 'editaMenu',\n      data: record\n    };\n    const reference = this.util.openModal(EditaMenuComponent, options);\n    reference.subscribe(response => {\n      this.listar();\n      if (response) {\n        // this.cantidadApoyo = response.CantidadApoyo;\n        // this.listaEmpleado = response.listaEmpleado\n      }\n    });\n  }\n  ngOnInit() {\n    this.initializeForm();\n    this.listar();\n  }\n  onFormSubmit() {}\n  listar() {\n    if (this.group.valid) {\n      const fd = new FormData();\n      const values = this.group.value;\n      const requestMenu = {}; //  this.group.value;\n      requestMenu.Descripcion = '%';\n      requestMenu.Estado = 'A';\n      requestMenu.IndicadorGrupoMenu = false;\n      this.menuService.listar(requestMenu).subscribe(response => {\n        this.menuResponse = response;\n        this.dataTable = this.menuResponse.datos.result;\n      });\n    }\n  }\n  editar(menus) {\n    this.listaMenu = menus;\n    this.openModal(this.menus);\n  }\n  listarfiltro() {\n    console.log();\n    // console.log(this.jj)\n    if (this.group.valid) {\n      const fd = new FormData();\n      const values = this.group.value;\n      const requestMenu = {}; //  this.group.value;\n      requestMenu.Descripcion = values['desMenu'];\n      requestMenu.IndicadorGrupoMenu = values['listMenu'];\n      requestMenu.Estado = values['estado'];\n      requestMenu.CodigoGrupoMenu = values['listGrupo'];\n      if (requestMenu.Descripcion === '' || requestMenu.Descripcion == null) {\n        requestMenu.Descripcion = '%';\n      }\n      this.menuService.listarfiltro(requestMenu).subscribe(response => {\n        this.menuResponse = response;\n        this.dataTable = this.menuResponse.datos.result;\n      });\n    }\n  }\n};\nManteMenuComponent = __decorate([Component({\n  selector: 'app-mante-menu',\n  templateUrl: './mante-menu.component.html',\n  styleUrls: ['./mante-menu.component.css']\n})], ManteMenuComponent);\nexport { ManteMenuComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}