{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { RegProductoComponent } from '../reg-producto/reg-producto.component';\nimport { EditaProductoComponent } from '../edita-producto/edita-producto.component';\nlet ManteProductoComponent = class ManteProductoComponent {\n  initializeForm() {\n    this.group = new FormGroup({\n      descripcion: new FormControl(null, null),\n      colores: new FormControl(null, null),\n      tallas: new FormControl(null, null),\n      prendas: new FormControl(null, null),\n      genero: new FormControl(null, null),\n      radio: new FormControl(null, null)\n    });\n  }\n  constructor(matDialog, productoService, util) {\n    this.matDialog = matDialog;\n    this.productoService = productoService;\n    this.util = util;\n    this.select = '%';\n    this.labelPosition = 'A';\n    this.dialogConfig = new MatDialogConfig();\n    this.metadataTable = [{\n      field: \"codigoProducto\",\n      title: \"Cod.Producto\"\n    }, {\n      field: \"descripcion\",\n      title: \"Desc.Almacen\"\n    }, {\n      field: \"color\",\n      title: \"Color\"\n    }, {\n      field: \"talla\",\n      title: \"Talla\"\n    }, {\n      field: \"tipoPrenda\",\n      title: \"Tipo Prenda\"\n    }, {\n      field: \"genero\",\n      title: \"Genero\"\n    }, {\n      field: \"estado\",\n      title: \"Estado\"\n    }, {\n      field: \"usuarioReg\",\n      title: \"Usu.Reg\"\n    }, {\n      field: \"fecha_hora_reg\",\n      title: \"Fecha Hora Registro\"\n    }, {\n      field: \"usuario_mod\",\n      title: \"Usu.Mod\"\n    }, {\n      field: \"fecha_hora_mod\",\n      title: \"Fecha Hora Mod\"\n    }];\n  }\n  ngAfterViewInit() {\n    document.onclick = args => {\n      if (args.target.tagName === 'BODY') {\n        this.modalDialog?.close();\n      }\n    };\n  }\n  agregar() {\n    this.dialogConfig.id = \"projects-modal-component\";\n    this.dialogConfig.height = \"600px\";\n    this.dialogConfig.width = \"500px\";\n    this.dialogConfig.disableClose = true;\n    this.modalDialog = this.matDialog.open(RegProductoComponent, this.dialogConfig);\n  }\n  openModal(record) {\n    record = this.listaProducto;\n    //record = this.codigoEmpleado\n    //this.cantidadApoyo = 0;\n    const options = {\n      disableClose: true,\n      panelClass: 'editaProducto',\n      data: record\n    };\n    const reference = this.util.openModal(EditaProductoComponent, options);\n    reference.subscribe(response => {\n      this.listar();\n      if (response) {\n        // this.cantidadApoyo = response.CantidadApoyo;\n        // this.listaEmpleado = response.listaEmpleado\n      }\n    });\n  }\n  ngOnInit() {\n    this.initializeForm();\n    this.listar();\n  }\n  listar() {\n    if (this.group.valid) {\n      const fd = new FormData();\n      const values = this.group.value;\n      const requestProducto = {}; //  this.group.value;\n      requestProducto.Descripcion = '%';\n      requestProducto.Color = '%';\n      requestProducto.Talla = '%';\n      requestProducto.Tipo_Prenda = 0;\n      requestProducto.Genero = '%';\n      requestProducto.Estado = 'A';\n      this.productoService.listar(requestProducto).subscribe(response => {\n        this.productoResponse = response;\n        this.dataTable = this.productoResponse.datos.result;\n      });\n    }\n  }\n  editar(producto) {\n    this.listaProducto = producto;\n    this.openModal(this.producto);\n  }\n  listarfiltro() {\n    // console.log(this.jj)\n    if (this.group.valid) {\n      const fd = new FormData();\n      const values = this.group.value;\n      const requestProducto = {}; //  this.group.value;\n      requestProducto.Descripcion = values['descripcion'];\n      requestProducto.Color = values['colores'];\n      requestProducto.Talla = values['tallas'];\n      requestProducto.Tipo_Prenda = values['prendas'];\n      requestProducto.Genero = values['genero'];\n      requestProducto.Estado = values['radio'];\n      if (requestProducto.Descripcion === '' || requestProducto.Descripcion == null) {\n        requestProducto.Descripcion = '%';\n      }\n      if (requestProducto.Color === '' || requestProducto.Color == null) {\n        requestProducto.Color = '%';\n      }\n      if (requestProducto.Talla === '' || requestProducto.Talla == null) {\n        requestProducto.Talla = '%';\n      }\n      if (requestProducto.Tipo_Prenda == null) {\n        requestProducto.Tipo_Prenda = 0;\n      }\n      if (requestProducto.Genero === '' || requestProducto.Genero == null) {\n        requestProducto.Genero = '%';\n      }\n      this.productoService.listarfiltro(requestProducto).subscribe(response => {\n        this.productoResponse = response;\n        this.dataTable = this.productoResponse.datos.result;\n      });\n    }\n  }\n};\nManteProductoComponent = __decorate([Component({\n  selector: 'app-mante-producto',\n  templateUrl: './mante-producto.component.html',\n  styleUrls: ['./mante-producto.component.css']\n})], ManteProductoComponent);\nexport { ManteProductoComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}