{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { MatDialogConfig } from '@angular/material/dialog';\n//import { EditaAlmacenComponent } from 'src/app/almacen/presentacion/components/edita-almacen/edita-almacen.component';\nlet ManteAlmacenComponent = class ManteAlmacenComponent {\n  initializeForm() {\n    this.group = new FormGroup({\n      descripcion: new FormControl(null, null),\n      radio: new FormControl(null, null)\n    });\n  }\n  constructor(matDialog, almacenService, util) {\n    this.matDialog = matDialog;\n    this.almacenService = almacenService;\n    this.util = util;\n    this.labelPosition = 'A';\n    this.dialogConfig = new MatDialogConfig();\n    // modalDialog: MatDialogRef<RegAlmacenComponent, any> | undefined;\n    this.metadataTable = [{\n      field: \"codigoAlmacen\",\n      title: \"Cod.Almacen\"\n    }, {\n      field: \"descripcion\",\n      title: \"Desc.Almacen\"\n    }, {\n      field: \"estado\",\n      title: \"Estado\"\n    }, {\n      field: \"usuarioReg\",\n      title: \"Usu.Reg\"\n    }, {\n      field: \"fecha_hora_reg\",\n      title: \"Fecha Hora Registro\"\n    }, {\n      field: \"usuario_mod\",\n      title: \"Usu.Mod\"\n    }, {\n      field: \"fecha_hora_mod\",\n      title: \"Fecha Hora Mod\"\n    }];\n  }\n  ngAfterViewInit() {\n    document.onclick = args => {\n      if (args.target.tagName === 'BODY') {\n        //       this.modalDialog?.close()\n      }\n    };\n  }\n  agregarAlmacen() {\n    this.dialogConfig.id = \"projects-modal-component\";\n    this.dialogConfig.height = \"500px\";\n    this.dialogConfig.width = \"500px\";\n    this.dialogConfig.disableClose = true;\n    //  this.modalDialog = this.matDialog.open(RegAlmacenComponent, this.dialogConfig);\n  }\n\n  openModal(record) {\n    record = this.listaAlmacen;\n    /*//record = this.codigoEmpleado\r\n    //this.cantidadApoyo = 0;\r\n            const options = {\r\n         \r\n      disableClose: true,\r\n      panelClass:'editaAlmacen',\r\n      data: record,\r\n    };\r\n            const reference =  this.util.openModal(\r\n     EditaAlmacenComponent,\r\n       options,\r\n      \r\n      );\r\n      reference.subscribe((response) => {\r\n       this.listar()\r\n        if (response){\r\n         \r\n         // this.cantidadApoyo = response.CantidadApoyo;\r\n         // this.listaEmpleado = response.listaEmpleado\r\n        }\r\n      });*/\n  }\n\n  ngOnInit() {\n    this.initializeForm();\n    this.listar();\n  }\n  listar() {\n    if (this.group.valid) {\n      const fd = new FormData();\n      const values = this.group.value;\n      const requestAlmacen = {}; //  this.group.value;\n      requestAlmacen.Descripcion = '%';\n      requestAlmacen.Estado = 'A';\n      this.almacenService.listar(requestAlmacen).subscribe(response => {\n        this.almacenResponse = response;\n        this.dataTable = this.almacenResponse.datos.result;\n      });\n    }\n  }\n  editar(almacen) {\n    this.listaAlmacen = almacen;\n    this.openModal(this.almacen);\n  }\n  listarfiltro() {\n    // console.log(this.jj)\n    if (this.group.valid) {\n      const fd = new FormData();\n      const values = this.group.value;\n      const requestRoles = {}; //  this.group.value;\n      requestRoles.Descripcion = values['descripcion'];\n      requestRoles.Estado = values['radio'];\n      if (requestRoles.Descripcion === '' || requestRoles.Descripcion == null) {\n        requestRoles.Descripcion = '%';\n      }\n      this.almacenService.listarfiltro(requestRoles).subscribe(response => {\n        this.almacenResponse = response;\n        this.dataTable = this.almacenResponse.datos.result;\n      });\n    }\n  }\n};\nManteAlmacenComponent = __decorate([Component({\n  selector: 'app-mante-almacen',\n  templateUrl: './mante-almacen.component.html',\n  styleUrls: ['./mante-almacen.component.css']\n})], ManteAlmacenComponent);\nexport { ManteAlmacenComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}